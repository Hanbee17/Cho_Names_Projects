let nameStudents = ['고해인 ',
  '김민지',
  '김민희',
  '김수경',
  '김수진',
  '김영경',
  '김예은',
  '김주아',
  '김현정',
  '문지성',
  '박성빈',
  '우소영',
  '유미지',
  '이수연 ',
  '이연화 ',
  '정가현',
  '조은화',
  '한고운',
  '강수정',
  '강우영',
  '길채원',
  '김민지',
  '김소정',
  '김수정',
  '김주희',
  '김지윤',
  '남수빈',
  '남지현',
  '박정은',
  '박주희',
  '박혜선',
  '송지나',
  '양온유',
  '오유정',
  '윤민지',
  '윤솔',
  '이혜경',
  '전하영',
  '정지아',
  '조서우',
  '한세영',
  '허다윤',
  '허유림',
  '김담비',
  '김도언',
  '김빛나라',
  '김소연',
  '김수경',
  '김시연',
  '김영은',
  '김주은',
  '김지인',
  '박영란',
  '박예슬',
  '박지우',
  '박지윤',
  '박채연',
  '백지숙',
  '신승희',
  '유예은',
  '유혜원',
  '이지민',
  '장주이',
  '전영수',
  '정예진',
  '최수희',
  '최윤민',
  '한은지',
  '황지현',
  '강승묵',
  '강신욱',
  '강혁',
  '권오천',
  '김건우',
  '김대희',
  '김동혁',
  '김범수',
  '김용진',
  '김웅기',
  '김윤수',
  '김정현',
  '김호연',
  '박수현',
  '박정훈',
  '빈하용',
  '슬라바',
  '안준혁',
  '안형준',
  '임경빈',
  '임요한',
  '장진용',
  '정차웅',
  '정휘범',
  '진우혁',
  '최성호',
  '한정무',
  '홍순영',
  '김건우',
  '김건우',
  '김도현',
  '김민석',
  '김민성',
  '김성현',
  '김완준',
  '김인호',
  '김진광',
  '김한별',
  '문중식',
  '박성호',
  '박준민',
  '박진리',
  '박홍래',
  '서동진',
  '오준영',
  '이석준',
  '이진환',
  '이창현',
  '이홍승',
  '인태범',
  '정이삭',
  '조성원',
  '천인호',
  '최남혁',
  '최민석',
  '구태민',
  '권순범',
  '김동영',
  '김동협',
  '김민규',
  '김승태',
  '김승혁',
  '김승환',
  '남현철',
  '박새도',
  '박영',
  '서재능',
  '선우진',
  '신호성',
  '이건계',
  '이다운',
  '이세현',
  '이영만',
  '이장환',
  '이태민',
  '전현탁',
  '정원석',
  '최덕하',
  '홍종용',
  '황민우',
  '곽수인',
  '국승현',
  '김건호',
  '김기수',
  '김민수',
  '김상호',
  '김성빈',
  '김수빈',
  '김정민',
  '나강민',
  '박성복',
  '박인배',
  '박현섭',
  '서현섭',
  '성민재',
  '손찬우',
  '송강현',
  '심장영',
  '안중근',
  '양철민',
  '오영석',
  '이강명',
  '이근형',
  '이민우',
  '이수빈',
  '이정인',
  '이준우',
  '이진형',
  '전찬호',
  '정동수',
  '최현주',
  '허재강',
  '고우재',
  '김대현',
  '김동현',
  '김선우',
  '김영창',
  '김재영',
  '김제훈',
  '김창헌',
  '박선균',
  '박수찬',
  '박시찬',
  '백승현',
  '안주현',
  '이승민',
  '이승현',
  '이재욱',
  '이호진',
  '임건우',
  '임현진',
  '장준형',
  '전형우',
  '제세호',
  '조봉석',
  '조찬민',
  '지상준',
  '최수빈',
  '최정수',
  '최진혁',
  '홍승준',
  '고하영',
  '권민경',
  '김민정',
  '김아라',
  '김초예',
  '김해화',
  '김혜선',
  '박예지',
  '배향매',
  '오경미',
  '이보미',
  '이수진',
  '이한솔',
  '임세희',
  '정다빈',
  '정다혜',
  '조은정',
  '진윤희',
  '최진아',
  '편다인',
  '강한솔',
  '구보현',
  '권지혜',
  '김다영',
  '김민정',
  '김송희',
  '김슬기',
  '김유민',
  '김주희',
  '박정슬',
  '이가영',
  '이경민',
  '이경주',
  '이다혜',
  '이단비',
  '이소진',
  '이은별',
  '이해주',
  '장수정',
  '장혜원',
]

let nameTeachers = ['유니나',
  '전수영',
  '김초원',
  '이해봉',
  '남윤철',
  '이지혜',
  '김응현',
  '최혜정',
  '강민규',
  '박육근',
]

let namePassengers = ['김순금',
  '김연혁',
  '문인자',
  '백평권',
  '심숙자',
  '윤춘연',
  '이세영',
  '인옥자',
  '정원재',
  '정중훈',
  '최순복',
  '최창복',
  '최승호',
  '현윤지',
  '조충환',
  '지혜진',
  '조지훈',
  '서규석',
  '이광진',
  '이은창',
  '신경순',
  '정명숙',
  '이제창',
  '서순자',
  '박성미',
  '우점달',
  '전종현',
  '한금희',
  '이도남',
  '리샹하오',
]

let nameCrews = ['박지영',
  '정현선',
  '양대홍',
  '김문익',
  '안현영',
  '이묘희',
  '김기웅',
  '구춘미',
  '이현우',
  '방현수',
]

let ynameCrews = [];
let xnameCrews = [];

let xnamePassengers = [];
let ynamePassengers = [];

let xnameTeachers = [];
let ynameTeachers = [];

let ynameStudents = [];
let xnameStudents = [];


let pageState = 'first';

let ferryShip;
let korean;
let english;
let spanish;

let ferryAni;

var yoff = 0;
var level1 = 800;
var level2 = 950;

function preload() {
  ferryShip = loadImage('./assets/ship1.png');
  korean = loadImage('./assets/kor.png');
  english = loadImage('./assets/eng.png');
  spanish = loadImage('./assets/span.png');

  ferryAni = loadAnimation('./assets/ship1.png', './assets/ship5.png')
  ferryAni.looping = false;
  ferryAni.playing = false;
}

function setup() {
  //frameRate(60);
  createCanvas(windowWidth, windowHeight);
  background(0);
  intialButtons();
  firstScreen();

  nameCrewsRandom();
  nameCrewsRandomSetUp();

  namePassengersRandom();
  namePassengersRandomSetUp();

  nameTeachersRandom();
  nameTeachersRandomSetUp();

  nameStudentsRandomSetUp();
  nameStudentsRandom();
}

function draw() {

  switch (pageState) {
    case 'title':
      firstScreen();
      break;
    case 'mainKor':
      mainKorScreen();
      korButton.locate(-400, -500);
      break;
    case 'mainEng':
      mainEngScreen();
      engButton.locate(-400, -500);
      break;
    case 'mainSpan':
      mainSpanScreen();
      spanButton.locate(-400, -500);
      break;
    case 'lastKor':
      lastPage();
      break;
  }

  shipButton.draw();

  korButton.draw();
  engButton.draw();
  spanButton.draw();

  crewButton.draw();
  passengerButton.draw();
  studentButton.draw();
  teacherButton.draw();

  arrowForLast.draw();
}

function firstScreen() {
  startButton();
}

function mainKorScreen() {
  createCanvas(windowWidth * 1, windowHeight * 3);
  background(202, 240, 248);
  languageButtons();

  textAlign(CENTER);
  textSize(20);
  fill(0);
  text('This is Korean page. Press W to begin. 메인 페이지', windowWidth * 0.5, windowHeight * 0.2);

  drawWaves();

  nameCrewsRandom();
  namePassengersRandom();
  nameTeachersRandom();
  nameStudentsRandom();
}

function drawWaves() {
  fill(2, 62, 138, 200);
  noStroke();
  beginShape();
  var xoff = 0;
  for (var x = 0; x <= width; x += 10) {
    var y = map(noise(xoff, yoff), 0, 1, level1, level2);
    vertex(x, y);
    xoff += 0.05;
  }
  yoff += 0.03;
  vertex(width, height);
  vertex(0, height);
  endShape(CLOSE);

  if (keyIsPressed) {
    if (keyCode == 87) {
      if (level2 > 50) {
        level1 -= 1.5;
        level2 -= 1.5;
      }
      for (let i = 0; i < nameCrews.length; i++) {
        ynameCrews[i] -= 1.1;
      }
      for (let i = 0; i < namePassengers.length; i++) {
        ynamePassengers[i] -= 1.1;
      }
      for (let i = 0; i < nameTeachers.length; i++) {
        ynameTeachers[i] -= 1.1;
      }
      for (let i = 0; i < nameStudents.length; i++) {
        ynameStudents[i] -= 1.1;
      }
    }
  }
  ferryAnimation();
  nameButtons();
  nameStudentsRandom();
}


function ferryAnimation() {
  imageMode(CENTER);
  if (keyIsDown) {
    if (keyCode == 87) {
      // ferryAni.changeFrame(1);
      ferryAni.nextFrame();
      //ferryAni.play();
    } else {
      ferryAni.stop();
    }
  }
  animation(ferryAni, windowWidth * 0.5, level2 * 0.9, );
}

function nameCrewsRandom() {
  for (let i = 0; i < nameCrews.length; i++) {
    fill(247, 127, 0);
    text(nameCrews[i], xnameCrews[i], ynameCrews[i]);

    xnameCrews[i] = xnameCrews[i] + random(-0.25, 0.25);
    if (xnameCrews[i] < 10) {
      xnameCrews[i] = xnameCrews[i]+10;
    }
    if (xnameCrews[i] > windowWidth-10) {
      xnameCrews[i] = xnameCrews[i]-10;
    }
    ynameCrews[i] = ynameCrews[i] + random(-0.25, 0.25);
    if (ynameCrews[i] < 200) {
      ynameCrews[i] = ynameCrews[i]+10;
    }
    if (ynameCrews[i] < windowHeight-10) {
      ynameCrews[i] = ynameCrews[i]-10;
    }
  }
}

function nameCrewsRandomSetUp() {
  for (let i = 0; i < nameCrews.length; i++) {
    ynameCrews[i] = random(level2 * 1.1, windowHeight * 1.3);
    if (ynameCrews[i] <= level2 * 1.3) {
      xnameCrews[i] = random(windowWidth * 0.4, windowWidth * 0.5)
    }
  }
}


function namePassengersRandom() {
  for (let i = 0; i < namePassengers.length; i++) {
    fill(0, 127, 110);
    text(namePassengers[i], xnamePassengers[i], ynamePassengers[i]);

    xnamePassengers[i] = xnamePassengers[i] + random(-0.25, 0.25);
    if (xnamePassengers[i] < 10) {
      xnamePassengers[i] = xnamePassengers[i]+10;
    }
    if (xnamePassengers[i] > windowWidth-10) {
      xnamePassengers[i] = xnamePassengers[i]-10;
    }
    ynamePassengers[i] = ynamePassengers[i] + random(-0.25, 0.25);
    if (ynamePassengers[i] < 200) {
      ynamePassengers[i] = ynamePassengers[i]+10;
    }
    if (ynamePassengers[i] < windowHeight-10) {
      ynamePassengers[i] = ynamePassengers[i]-10;
    }
  }
}

function namePassengersRandomSetUp() {
  for (let i = 0; i < namePassengers.length; i++) {
    ynamePassengers[i] = random(level2 * 1.35, windowHeight * 1.6);
    if (ynamePassengers[i] <= level2 * 1.6) {
      xnamePassengers[i] = random(windowWidth * 0.3, windowWidth * 0.6)
    }
  }
}


function nameTeachersRandom() {
  for (let i = 0; i < nameTeachers.length; i++) {
    fill(0);
    text(nameTeachers[i], xnameTeachers[i], ynameTeachers[i]);

    xnameTeachers[i] = xnameTeachers[i] + random(-0.25, 0.25);
    if (xnameTeachers[i] < 10) {
      xnameTeachers[i] = xnameTeachers[i]+10;
    }
    if (xnameTeachers[i] > windowWidth-10) {
      xnameTeachers[i] = xnameTeachers[i]-10;
    }
    ynameTeachers[i] = ynameTeachers[i] + random(-0.25, 0.25);
    if (ynameTeachers[i] < 200) {
      ynameTeachers[i] = ynameTeachers[i]+10;
    }
    if (ynameTeachers[i] < windowHeight-10) {
      ynameTeachers[i] = ynameTeachers[i]-10;
    }
  }
}

function nameTeachersRandomSetUp() {
  for (let i = 0; i < nameTeachers.length; i++) {
    ynameTeachers[i] = random(level2 * 1.65, windowHeight * 1.8);
    if (ynameTeachers[i] <= level2 * 1.8) {
      xnameTeachers[i] = random(windowWidth * 0.15, windowWidth * 0.85)
    }
  }
}


function nameStudentsRandom() {
  for (let i = 0; i < nameStudents.length; i++) {
    fill(255);
    text(nameStudents[i], xnameStudents[i], ynameStudents[i]);

    xnameStudents[i] = xnameStudents[i] + random(-0.25, 0.25);
    if (xnameStudents[i] < 10) {
      xnameStudents[i] = xnameStudents[i]+10;
    }
    if (xnameTeachers[i] > windowWidth-10) {
      xnameStudents[i] = xnameStudents[i]-10;
    }
    ynameStudents[i] = ynameStudents[i] + random(-0.25, 0.25);
    if (ynameStudents[i] < 200) {
      ynameStudents[i] = ynameStudents[i]+10;
    }
    if (ynameStudents[i] < windowHeight-10) {
      ynameStudents[i] = ynameStudents[i]-10;
    }
  }
}

function nameStudentsRandomSetUp() {
  for (let i = 0; i < nameStudents.length; i++) {
    ynameStudents[i] = random(level2 * 1.9, windowHeight * 2.8);
    if (ynameStudents[i] < level2 * 2.8 && ynameStudents[i] > windowHeight * 1.3) {
      xnameStudents[i] = random(windowWidth * 0.1, windowWidth * 0.9)
    }
  }
}

function lastPage() {
  createCanvas(windowWidth, windowHeight);
  background(0);
  fill(255);
  text("This is Artist's Statement Page", windowWidth * 0.5, windowHeight * 0.2)
}

function mainEngScreen() {
  createCanvas(windowWidth, windowHeight);
  background(0, 150, 199);
  textAlign(CENTER);
  textSize(20);
  fill(206, 212, 218);
  text('This is English Page.', windowWidth * 0.5, windowHeight * 0.5);
  languageButtons();
}

function mainSpanScreen() {
  createCanvas(windowWidth, windowHeight);
  background(0, 150, 199);
  textAlign(CENTER);
  textSize(20);
  fill(206, 212, 218);
  text('This is Spanish Page.', windowWidth * 0.5, windowHeight * 0.5);
  languageButtons();
}
